###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         08/Dec/2018  14:56:59 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\Source\PM25 #
#                          .c                                                 #
#    Command line       =  -f C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é #
#                          ²¥+PM25\Projects\zstack\Samples\SampleApp\CC2530DB #
#                          \..\..\..\Tools\CC2530DB\f8wEndev.cfg (-DCPU32MHZ  #
#                          -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3         #
#                          -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f          #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\Tools\CC2530DB\f8wConfig.cfg (-DZIGBEEPRO   #
#                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFF00                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 C:\Users\77564\Desktop\¼à²â #
#                          ÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+PM25\Projects\zstack\Sample #
#                          s\SampleApp\Source\PM25.c -D NWK_AUTO_POLL -D      #
#                          ZTOOL_P1 -D MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC  #
#                          -D xLCD_SUPPORTED=DEBUG -D HAL_ADC -D              #
#                          Channel_0_For_TGS822 -D Channel_1_For_TGS813 -D    #
#                          "HAL_UART= TRUE" -lC C:\Users\77564\Desktop\¼à²âÈÕ #
#                          ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+PM25\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\EndDeviceEB\List\ -lA           #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\En #
#                          dDeviceEB\List\ --diag_suppress Pe001,Pa010 -o     #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\En #
#                          dDeviceEB\Obj\ -e --no_code_motion --debug         #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I C:\Users\77564\Desktop\¼à² #
#                          âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+PM25\Projects\zstack\Sampl #
#                          es\SampleApp\CC2530DB\ -I                          #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \Source\ -I C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ #
#                          ³ÌÐò\¸Ä×é²¥+PM25\Projects\zstack\Samples\SampleApp #
#                          \CC2530DB\..\..\..\ZMain\TI2530DB\ -I              #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\hal\include\ -I            #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\hal\target\CC2530EB\ -I    #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\mac\include\ -I            #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\mac\high_level\ -I         #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\mac\low_level\srf04\ -I    #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\mac\low_level\srf04\single #
#                          _chip\ -I C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³Ì #
#                          Ðò\¸Ä×é²¥+PM25\Projects\zstack\Samples\SampleApp\C #
#                          C2530DB\..\..\..\..\..\Components\mt\ -I           #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\osal\include\ -I           #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\services\saddr\ -I         #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\services\sdata\ -I         #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\af\ -I               #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\nwk\ -I              #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\sapi\ -I             #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\sec\ -I              #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\sys\ -I              #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\stack\zdo\ -I              #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\zmac\ -I                   #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\.. #
#                          \..\..\..\..\Components\zmac\f8w\ -Ohz             #
#    List file          =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\En #
#                          dDeviceEB\List\PM25.lst                            #
#    Object file        =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+ #
#                          PM25\Projects\zstack\Samples\SampleApp\CC2530DB\En #
#                          dDeviceEB\Obj\PM25.r51                             #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ÄÕýµÄ³ÌÐò\¸Ä×é²¥+PM25\Projects\zstack\Samples\SampleApp\Source\PM25.c
      1          /****************************************************************************
      2          * ÎÄ ¼þ Ãû: PM25.c
      3          * ×÷    Õß: È¨
      4          * ÐÞ    ¶©: 2013-01-08
      5          * °æ    ±¾: ¼Ä´æÆ÷°æ±¾£¬ÔÚÊµ¼ÊµÄÐ­ÒéÕ»ÖÐÊ¹ÓÃµÄÊÇ¿âº¯Êý£¬´ËÍ·ÎÄ¼þÌá¹©±äÁ¿ÉèÖÃ1.0
      6          * Ãè    Êö: ÉèÖÃ´®¿Ú²¨ÌØÂÊ£º9600bps 8N1
      7          *           ´®¿Ú½ÓÊÕµ½PM25´«¸ÐÆ÷·µ»ØµÄÊý¾Ý£¬Í¨¹ý½âÎö»ñµÃPM25Êý¾Ý
      8          ****************************************************************************/
      9          #include <ioCC2530.h>

   \                                 In  segment SFR_AN, at 0x86
   \   unsigned char volatile __sfr U0CSR
   \                     U0CSR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x88
   \   union <unnamed> volatile __sfr _A_TCON
   \                     _A_TCON:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc1
   \   unsigned char volatile __sfr U0DBUF
   \                     U0DBUF:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc2
   \   unsigned char volatile __sfr U0BAUD
   \                     U0BAUD:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc5
   \   unsigned char volatile __sfr U0GCR
   \                     U0GCR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xe8
   \   union <unnamed> volatile __sfr _A_IRCON2
   \                     _A_IRCON2:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf1
   \   unsigned char volatile __sfr PERCFG
   \                     PERCFG:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf3
   \   unsigned char volatile __sfr P0SEL
   \                     P0SEL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xff
   \   unsigned char volatile __sfr P2DIR
   \                     P2DIR:
   \   000000                DS 1
     10          #include <string.h>
     11          #include <stdio.h>
     12          #include <PM25.h>

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     13          uchar count1;
   \                     count1:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     14          uchar RxBuf;
   \                     RxBuf:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     15          char UartState;
   \                     UartState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     16          char RxData[SIZE];        //´æ´¢·¢ËÍ×Ö·û´®
   \                     RxData:
   \   000000                DS 51
   \   000033                REQUIRE __INIT_XDATA_Z
     17          
     18          
     19          
     20          
     21          /****************************************************************************
     22          * Ãû    ³Æ: DelayMS()
     23          * ¹¦    ÄÜ: ÒÔºÁÃëÎªµ¥Î»ÑÓÊ±
     24          * Èë¿Ú²ÎÊý: msec ÑÓÊ±²ÎÊý£¬ÖµÔ½´ó£¬ÑÓÊ±Ô½¾Ã
     25          * ³ö¿Ú²ÎÊý: ÎÞ
     26          ****************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     27          void DelayMS(uint msec)
   \                     DelayMS:
     28          { 
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     29              uint i,j;
     30              
     31              for (i=0; i<msec; i++)
   \   000000   7800         MOV     R0,#0x0
   \   000002   7900         MOV     R1,#0x0
   \   000004   8008         SJMP    ??DelayMS_0
     32                  for (j=0; j<1070; j++);
   \                     ??DelayMS_1:
   \   000006   E8           MOV     A,R0
   \   000007   2401         ADD     A,#0x1
   \   000009   08           INC     R0
   \   00000A   E9           MOV     A,R1
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F9           MOV     R1,A
   \                     ??DelayMS_0:
   \   00000E   C3           CLR     C
   \   00000F   E8           MOV     A,R0
   \   000010   9A           SUBB    A,R2
   \   000011   E9           MOV     A,R1
   \   000012   9B           SUBB    A,R3
   \   000013   40F1         JC      ??DelayMS_1
     33          }
   \   000015   02....       LJMP    ?BRET
     34          
     35          /****************************************************************************
     36          * Ãû    ³Æ: InitUart()
     37          * ¹¦    ÄÜ: ´®¿Ú³õÊ¼»¯º¯Êý
     38          * Èë¿Ú²ÎÊý: ÎÞ
     39          * ³ö¿Ú²ÎÊý: ÎÞ
     40          ****************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     41          void InitUart(void)
   \                     InitUart:
     42          { 
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     43              PERCFG = 0x00;           //ÍâÉè¿ØÖÆ¼Ä´æÆ÷ USART 0µÄIOÎ»ÖÃ:0ÎªP0¿ÚÎ»ÖÃ1 
   \   000000   75F100       MOV     0xf1,#0x0
     44              P0SEL = 0x0c;            //P0_2,P0_3ÓÃ×÷´®¿Ú£¨ÍâÉè¹¦ÄÜ£©
   \   000003   75F30C       MOV     0xf3,#0xc
     45              P2DIR &= ~0xC0;          //P0ÓÅÏÈ×÷ÎªUART0
   \   000006   53FF3F       ANL     0xff,#0x3f
     46              
     47              U0CSR |= 0x80;           //ÉèÖÃÎªUART·½Ê½
   \   000009   438680       ORL     0x86,#0x80
     48              U0GCR |= 8;				       
   \   00000C   43C508       ORL     0xc5,#0x8
     49              U0BAUD |= 59;           //²¨ÌØÂÊÉèÎª9600
   \   00000F   43C23B       ORL     0xc2,#0x3b
     50              UTX0IF = 0;              //UART0 TXÖÐ¶Ï±êÖ¾³õÊ¼ÖÃÎ»0
   \   000012   C2E9         CLR     0xe8.1
     51              U0CSR |= 0x40;           //ÔÊÐí½ÓÊÕ 
   \   000014   438640       ORL     0x86,#0x40
     52              IEN0 |= 0x84;            //¿ª×ÜÖÐ¶ÏÔÊÐí½ÓÊÕÖÐ¶Ï  
   \   000017   43A884       ORL     0xa8,#0x84
     53          }
   \   00001A   02....       LJMP    ?BRET
   \   00001D                REQUIRE PERCFG
   \   00001D                REQUIRE P0SEL
   \   00001D                REQUIRE P2DIR
   \   00001D                REQUIRE U0CSR
   \   00001D                REQUIRE U0GCR
   \   00001D                REQUIRE U0BAUD
   \   00001D                REQUIRE _A_IRCON2
   \   00001D                REQUIRE _A_IEN0
     54          
     55          /****************************************************************************
     56          * Ãû    ³Æ: UartSendString()
     57          * ¹¦    ÄÜ: ´®¿Ú·¢ËÍº¯Êý
     58          * Èë¿Ú²ÎÊý: Data:·¢ËÍ»º³åÇø   len:·¢ËÍ³¤¶È
     59          * ³ö¿Ú²ÎÊý: ÎÞ
     60          ****************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     61          void UartSendString(char *Data, int len)
   \                     UartSendString:
     62          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
     63              uint i;
     64              
     65              for(i=0; i<len; i++)
   \   000005   7800         MOV     R0,#0x0
   \   000007   7900         MOV     R1,#0x0
   \   000009   801A         SJMP    ??UartSendString_0
     66              {
     67                  U0DBUF = *Data++;
   \                     ??UartSendString_1:
   \   00000B   8A82         MOV     DPL,R2
   \   00000D   8B83         MOV     DPH,R3
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   F5C1         MOV     0xc1,A
   \   000012   A3           INC     DPTR
   \   000013   AA82         MOV     R2,DPL
   \   000015   AB83         MOV     R3,DPH
     68                  while(UTX0IF == 0);
   \                     ??UartSendString_2:
   \   000017   A2E9         MOV     C,0xe8.1
   \   000019   50FC         JNC     ??UartSendString_2
     69                  UTX0IF = 0;
   \   00001B   C2E9         CLR     0xe8.1
     70              }
   \   00001D   E8           MOV     A,R0
   \   00001E   2401         ADD     A,#0x1
   \   000020   08           INC     R0
   \   000021   E9           MOV     A,R1
   \   000022   3400         ADDC    A,#0x0
   \   000024   F9           MOV     R1,A
   \                     ??UartSendString_0:
   \   000025   C3           CLR     C
   \   000026   E8           MOV     A,R0
   \   000027   9C           SUBB    A,R4
   \   000028   E9           MOV     A,R1
   \   000029   9D           SUBB    A,R5
   \   00002A   40DF         JC      ??UartSendString_1
     71          }
   \   00002C   7F01         MOV     R7,#0x1
   \   00002E   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   000031                REQUIRE U0DBUF
   \   000031                REQUIRE _A_IRCON2
     72          
     73          
     74          /****************************************************************************
     75          * Ãû    ³Æ: UART0_ISR(void) ´®¿ÚÖÐ¶Ï´¦Àíº¯Êý 
     76          * Ãè    Êö: µ±´®¿Ú0²úÉú½ÓÊÕÖÐ¶Ï£¬½«ÊÕµ½µÄÊý¾Ý±£´æÔÚRxBufÖÐ
     77          ****************************************************************************/
     78          #pragma vector = URX0_VECTOR 

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     79          __interrupt void UART0_ISR(void) 
   \                     UART0_ISR:
     80          { 
   \   000000   C0E0         PUSH    A
   \   000002   74F1         MOV     A,#-0xf
   \   000004   12....       LCALL   ?INTERRUPT_ENTER_XSP
   \   000007                ; Saved register size: 15
   \   000007                ; Auto size: 0
     81              URX0IF = 0;       // ÇåÖÐ¶Ï±êÖ¾ 
   \   000007   C28B         CLR     0x88.3
     82              RxBuf = U0DBUF; 
   \   000009   E5C1         MOV     A,0xc1
   \   00000B   90....       MOV     DPTR,#RxBuf
   \   00000E   F0           MOVX    @DPTR,A
     83              if(UartState == UART0_RX)              //½ÓÊÕ×´Ì¬ 
   \   00000F   90....       MOV     DPTR,#UartState
   \   000012   E0           MOVX    A,@DPTR
   \   000013   6401         XRL     A,#0x1
   \   000015   7065         JNZ     ??UART0_ISR_0
     84                  {  
     85                          
     86                          if((RxBuf != 0xAB)&&(count1 < 10))//ÒÔ'AB'Îª½áÊø·û,Ò»´Î×î¶à½ÓÊÕ50¸ö×Ö·û            
   \   000017   90....       MOV     DPTR,#RxBuf
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   64AB         XRL     A,#0xab
   \   00001D   6029         JZ      ??UART0_ISR_1
   \   00001F   90....       MOV     DPTR,#count1
   \   000022   E0           MOVX    A,@DPTR
   \   000023   C3           CLR     C
   \   000024   940A         SUBB    A,#0xa
   \   000026   5020         JNC     ??UART0_ISR_1
     87                          {
     88                            RxData[count1++] = RxBuf;
   \   000028   90....       MOV     DPTR,#RxBuf
   \   00002B   E0           MOVX    A,@DPTR
   \   00002C   C0E0         PUSH    A
   \   00002E   90....       MOV     DPTR,#count1
   \   000031   E0           MOVX    A,@DPTR
   \   000032   F8           MOV     R0,A
   \   000033   74..         MOV     A,#RxData & 0xff
   \   000035   28           ADD     A,R0
   \   000036   F582         MOV     DPL,A
   \   000038   74..         MOV     A,#(RxData >> 8) & 0xff
   \   00003A   3400         ADDC    A,#0x0
   \   00003C   F583         MOV     DPH,A
   \   00003E   D0E0         POP     A
   \   000040   F0           MOVX    @DPTR,A
   \   000041   90....       MOV     DPTR,#count1
   \   000044   E0           MOVX    A,@DPTR
   \   000045   04           INC     A
   \   000046   8033         SJMP    ??UART0_ISR_2
     89                          }
     90                          else
     91                          {
     92                              if(count1 >= 10)             //ÅÐ¶ÏÊý¾ÝºÏ·¨ÐÔ£¬·ÀÖ¹Òç³ö
   \                     ??UART0_ISR_1:
   \   000048   90....       MOV     DPTR,#count1
   \   00004B   E0           MOVX    A,@DPTR
   \   00004C   C3           CLR     C
   \   00004D   940A         SUBB    A,#0xa
   \   00004F   4025         JC      ??UART0_ISR_3
     93                              {
     94                                  count1 = 0;              //¼ÆÊýÇå0
   \   000051   E4           CLR     A
   \   000052   F0           MOVX    @DPTR,A
     95                                  UartState = UART0_TX;
   \   000053   90....       MOV     DPTR,#UartState
   \   000056   7402         MOV     A,#0x2
   \   000058   F0           MOVX    @DPTR,A
     96                                  memset(RxData, 0, SIZE);//Çå¿Õ½ÓÊÕ»º³åÇø
   \   000059                ; Setup parameters for call to function memset
   \   000059   75..33       MOV     ?V0 + 0,#0x33
   \   00005C   75..00       MOV     ?V0 + 1,#0x0
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000064   7C00         MOV     R4,#0x0
   \   000066   7D00         MOV     R5,#0x0
   \   000068   7A..         MOV     R2,#RxData & 0xff
   \   00006A   7B..         MOV     R3,#(RxData >> 8) & 0xff
   \   00006C   12....       LCALL   ??memset?relay
   \   00006F   7402         MOV     A,#0x2
   \   000071   12....       LCALL   ?DEALLOC_XSTACK8
   \   000074   8006         SJMP    ??UART0_ISR_0
     97                              }
     98                              else
     99                                  UartState = UART0_TX;  //½øÈë·¢ËÍ×´Ì¬ 
   \                     ??UART0_ISR_3:
   \   000076   90....       MOV     DPTR,#UartState
   \   000079   7402         MOV     A,#0x2
   \                     ??UART0_ISR_2:
   \   00007B   F0           MOVX    @DPTR,A
    100                          }
    101                  }
    102          }
   \                     ??UART0_ISR_0:
   \   00007C   7F02         MOV     R7,#0x2
   \   00007E   02....       LJMP    ?INTERRUPT_LEAVE_XSP
   \   000081                REQUIRE _A_TCON
   \   000081                REQUIRE U0DBUF

   \                                 In  segment INTVEC, offset 0x13, root
   \                     `??UART0_ISR??INTVEC 19`:
   \   000013   02....       LJMP       (UART0_ISR)

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??DelayMS?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    DelayMS

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??InitUart?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    InitUart

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??UartSendString?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    UartSendString

   Maximum stack usage in bytes:

     Function       ISTACK PSTACK XSTACK
     --------       ------ ------ ------
     DelayMS            0      0      0
     InitUart           0      0      0
     UART0_ISR          1      0     17
       -> memset        0      0     34
     UartSendString     0      0      9


   Segment part sizes:

     Function/Label         Bytes
     --------------         -----
     U0CSR                     1
     _A_TCON                   1
     _A_IEN0                   1
     U0DBUF                    1
     U0BAUD                    1
     U0GCR                     1
     _A_IRCON2                 1
     PERCFG                    1
     P0SEL                     1
     P2DIR                     1
     count1                    1
     RxBuf                     1
     UartState                 1
     RxData                   51
     DelayMS                  24
     InitUart                 29
     UartSendString           49
     UART0_ISR               129
     ??UART0_ISR??INTVEC 19    3
     ??DelayMS?relay           6
     ??InitUart?relay          6
     ??UartSendString?relay    6

 
 102 bytes in segment BANKED_CODE
  18 bytes in segment BANK_RELAYS
   3 bytes in segment INTVEC
 129 bytes in segment NEAR_CODE
  10 bytes in segment SFR_AN
  54 bytes in segment XDATA_Z
 
 249 bytes of CODE  memory (+  3 bytes shared)
   0 bytes of DATA  memory (+ 10 bytes shared)
  54 bytes of XDATA memory

Errors: none
Warnings: none
