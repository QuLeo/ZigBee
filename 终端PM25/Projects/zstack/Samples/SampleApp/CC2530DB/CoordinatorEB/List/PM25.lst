###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         03/Nov/2018  11:00:16 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\Source\PM25.c   #
#    Command line       =  -f C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+ #
#                          HCL\Projects\zstack\Samples\SampleApp\CC2530DB\..\ #
#                          ..\..\Tools\CC2530DB\f8wCoord.cfg (-DCPU32MHZ      #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+ #
#                          HCL\Projects\zstack\Samples\SampleApp\CC2530DB\..\ #
#                          ..\..\Tools\CC2530DB\f8wConfig.cfg (-DZIGBEEPRO    #
#                          -DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFF00                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 C:\Users\77564\Desktop\¼à²â #
#                          ÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\Sa #
#                          mpleApp\Source\PM25.c -D ZTOOL_P1 -D MT_TASK -D    #
#                          MT_SYS_FUNC -D MT_ZDO_FUNC -D                      #
#                          xLCD_SUPPORTED=DEBUG -D Channel_0_For_TGS822 -D    #
#                          Channel_1_For_TGS813 -D uint8_Printf -D            #
#                          ASCII_Printf -lC C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸ #
#                          Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\SampleAp #
#                          p\CC2530DB\CoordinatorEB\List\ -lA                 #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\Coordi #
#                          natorEB\List\ --diag_suppress Pe001,Pa010 -o       #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\Coordi #
#                          natorEB\Obj\ -e --no_code_motion --debug           #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I C:\Users\77564\Desktop\¼à² #
#                          âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\S #
#                          ampleApp\CC2530DB\ -I C:\Users\77564\Desktop\¼à²âÈ #
#                          Õ¼Ç\¸Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\Sam #
#                          pleApp\CC2530DB\..\Source\ -I                      #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\ZMain\TI2530DB\ -I C:\Users\77564\Desktop\¼à²âÈ #
#                          Õ¼Ç\¸Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\Sam #
#                          pleApp\CC2530DB\..\..\..\..\..\Components\hal\incl #
#                          ude\ -I C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM2 #
#                          5+CO+HCL\Projects\zstack\Samples\SampleApp\CC2530D #
#                          B\..\..\..\..\..\Components\hal\target\CC2530EB\   #
#                          -I C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+ #
#                          HCL\Projects\zstack\Samples\SampleApp\CC2530DB\..\ #
#                          ..\..\..\..\Components\mac\include\ -I             #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\mac\high_level\ -I             #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\mac\low_level\srf04\ -I        #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\mac\low_level\srf04\single_chi #
#                          p\ -I C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+ #
#                          CO+HCL\Projects\zstack\Samples\SampleApp\CC2530DB\ #
#                          ..\..\..\..\..\Components\mt\ -I                   #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\osal\include\ -I               #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\services\saddr\ -I             #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\services\sdata\ -I             #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\af\ -I                   #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\nwk\ -I                  #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\sapi\ -I                 #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\sec\ -I                  #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\sys\ -I                  #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\stack\zdo\ -I                  #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\zmac\ -I                       #
#                          C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\zmac\f8w\ -Ohz                 #
#    List file          =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\Coordi #
#                          natorEB\List\PM25.lst                              #
#    Object file        =  C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\Coordi #
#                          natorEB\Obj\PM25.r51                               #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\77564\Desktop\¼à²âÈÕ¼Ç\¸Ä×é²¥+PM25+CO+HCL\Projects\zstack\Samples\SampleApp\Source\PM25.c
      1          #include <PM25.h>

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x86
   \   unsigned char volatile __sfr U0CSR
   \                     U0CSR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x89
   \   unsigned char volatile __sfr P0IFG
   \                     P0IFG:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x9e
   \   unsigned char volatile __sfr CLKCONSTA
   \                     CLKCONSTA:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa9
   \   unsigned char volatile __sfr IP0
   \                     IP0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xaf
   \   unsigned char volatile __sfr T1STAT
   \                     T1STAT:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xb8
   \   union <unnamed> volatile __sfr _A_IEN1
   \                     _A_IEN1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xb9
   \   unsigned char volatile __sfr IP1
   \                     IP1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc0
   \   union <unnamed> volatile __sfr _A_IRCON
   \                     _A_IRCON:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc2
   \   unsigned char volatile __sfr U0BAUD
   \                     U0BAUD:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc5
   \   unsigned char volatile __sfr U0GCR
   \                     U0GCR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xc6
   \   unsigned char volatile __sfr CLKCONCMD
   \                     CLKCONCMD:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xcb
   \   unsigned char volatile __sfr T3CTL
   \                     T3CTL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xe7
   \   unsigned char volatile __sfr T1CCTL2
   \                     T1CCTL2:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xe8
   \   union <unnamed> volatile __sfr _A_IRCON2
   \                     _A_IRCON2:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf1
   \   unsigned char volatile __sfr PERCFG
   \                     PERCFG:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf3
   \   unsigned char volatile __sfr P0SEL
   \                     P0SEL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xff
   \   unsigned char volatile __sfr P2DIR
   \                     P2DIR:
   \   000000                DS 1
      2          #include <string.h>
      3          #include <stdio.h>
      4          typedef unsigned char   uint8;
      5          #define uint unsigned int 
      6          #define uchar unsigned char

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      7          uint8 PM_data[6];
   \                     PM_data:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      8          uchar i=0;
   \                     i:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      9          float count=0;
   \                     count:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     10          float countsum=0;
   \                     countsum:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     11          float count_aver=0;
   \                     count_aver:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     12          unsigned short pm_data=0;
   \                     pm_data:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
     13          
     14          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     15          void T3init()
   \                     T3init:
     16          { 
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     17            T3CTL |= 0x08 ;          //¿ªÒç³öÖÐ¶Ï     
   \   000000   43CB08       ORL     0xcb,#0x8
     18            T3IE = 1;                //¿ª×ÜÖÐ¶ÏºÍT3ÖÐ¶Ï
   \   000003   D2BB         SETB    0xb8.3
     19            T3CTL |= 0xE0;           //128·ÖÆµ,128/16000000*N=0.5S,N=62500
   \   000005   43CBE0       ORL     0xcb,#0xe0
     20            T3CTL &= ~0x03;          //×Ô¶¯ÖØ×° 00£­>0xff  62500/255=245(´Î)
   \   000008   53CBFC       ANL     0xcb,#0xfc
     21            T3CTL |= 0x10;           //Æô¶¯
   \   00000B   43CB10       ORL     0xcb,#0x10
     22            EA = 1;                  //¿ª×ÜÖÐ¶Ï,Ò»´ÎÖÐ¶Ï¼ÆÊ±0.002048Ãë
   \   00000E                REQUIRE ?Subroutine1
   \   00000E                REQUIRE T3CTL
   \   00000E                REQUIRE _A_IEN1
   \   00000E                REQUIRE _A_IEN0
   \   00000E                ; // Fall through to label ?Subroutine1
     23          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   D2AF         SETB    0xa8.7
   \   000002   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     24          void InitClock(void)
   \                     InitClock:
     25          {   
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     26              CLKCONCMD &= ~0x40;              //ÉèÖÃÏµÍ³Ê±ÖÓÔ´Îª 32MHZ¾§Õñ
   \   000000   53C6BF       ANL     0xc6,#0xbf
     27              while(CLKCONSTA & 0x40);         //µÈ´ý¾§ÕñÎÈ¶¨ 
   \                     ??InitClock_0:
   \   000003   E59E         MOV     A,0x9e
   \   000005   A2E6         MOV     C,0xE0 /* A   */.6
   \   000007   40FA         JC      ??InitClock_0
     28              CLKCONCMD &= ~0x47;              //ÉèÖÃÏµÍ³Ö÷Ê±ÖÓÆµÂÊÎª 32MHZ
   \   000009   53C6B8       ANL     0xc6,#0xb8
     29          }
   \   00000C   02....       LJMP    ?BRET
   \   00000F                REQUIRE CLKCONCMD
   \   00000F                REQUIRE CLKCONSTA
     30          
     31          
     32          /****************************************************************************
     33          * Ãû    ³Æ: InitUart()
     34          * ¹¦    ÄÜ: ´®¿Ú³õÊ¼»¯º¯Êý
     35          * Èë¿Ú²ÎÊý: ÎÞ
     36          * ³ö¿Ú²ÎÊý: ÎÞ
     37          ****************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     38          void InitUART(void)
   \                     InitUART:
     39          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     40              /*PERCFG = 0x00;                   //Î»ÖÃ1 P0¿Ú
     41              P0SEL = 0x3C;                    //P0ÓÃ×÷´®¿Ú
     42              
     43              P2DIR &= ~0xC0;                  //P0ÓÅÏÈ×÷ÎªUART0    
     44              U0CSR |= 0x80;                   //´®¿ÚÉèÖÃÎªUART·½Ê½
     45              U0GCR |= 11;				
     46              U0BAUD |= 216;                   //²¨ÌØÂÊÉèÎª115200
     47              
     48              UTX0IF = 1;                      //UART0 TXÖÐ¶Ï±êÖ¾³õÊ¼ÖÃÎ»1  
     49              U0CSR |= 0x40;                   //ÔÊÐí½ÓÊÕ
     50              IEN0 |= 0x84;                    //¿ª×ÜÖÐ¶Ï£¬½ÓÊÕÖÐ¶Ï*/
     51              
     52              //**PERCFG &= 0xfe;           //ÍâÉè¿ØÖÆ¼Ä´æÆ÷ USART 0µÄIOÎ»ÖÃ:0ÎªP0¿ÚÎ»ÖÃ1 
     53              PERCFG =0xbe;//¶¨Ê±Æ÷1±¸ÓÃÎ»ÖÃ1£¬¶¨Ê±Æ÷1±¸ÓÃÎ»ÖÃ1,UART0±¸ÓÃÎ»ÖÃ1
   \   000000   75F1BE       MOV     0xf1,#-0x42
     54              P0SEL |= 0x0c;            //P0_2,P0_3ÓÃ×÷´®¿Ú£¨ÍâÉè¹¦ÄÜ£©
   \   000003   43F30C       ORL     0xf3,#0xc
     55              P2DIR &= ~0xC0;          //P0ÓÅÏÈ×÷ÎªUART0
   \   000006   53FF3F       ANL     0xff,#0x3f
     56              
     57              U0CSR |= 0x80;           //ÉèÖÃÎªUART·½Ê½
   \   000009   438680       ORL     0x86,#0x80
     58              U0GCR |= 11;				       
   \   00000C   43C50B       ORL     0xc5,#0xb
     59              U0BAUD |= 216;           //²¨ÌØÂÊÉèÎª115200
   \   00000F   43C2D8       ORL     0xc2,#0xd8
     60              UTX0IF = 0;              //UART0 TXÖÐ¶Ï±êÖ¾³õÊ¼ÖÃÎ»0
   \   000012   C2E9         CLR     0xe8.1
     61              U0CSR |= 0x40;           //ÔÊÐí½ÓÊÕ 
   \   000014   438640       ORL     0x86,#0x40
     62              IEN0 |= 0x84;            //¿ª×ÜÖÐ¶ÏÔÊÐí½ÓÊÕÖÐ¶Ï 
   \   000017   43A884       ORL     0xa8,#0x84
     63          }
   \   00001A   02....       LJMP    ?BRET
   \   00001D                REQUIRE PERCFG
   \   00001D                REQUIRE P0SEL
   \   00001D                REQUIRE P2DIR
   \   00001D                REQUIRE U0CSR
   \   00001D                REQUIRE U0GCR
   \   00001D                REQUIRE U0BAUD
   \   00001D                REQUIRE _A_IRCON2
   \   00001D                REQUIRE _A_IEN0
     64          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     65          void Init_capture_Gpio()
   \                     Init_capture_Gpio:
     66          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     67            P0SEL |= (1<<4);//P0_4¸´ÓÃ¹¦ÄÜ
   \   000000   43F310       ORL     0xf3,#0x10
     68            P0DIR &=~(1<<4);//ÉèÖÃGPIOÎªÊäÈë
   \   000003   53FDEF       ANL     0xfd,#0xef
     69           // P0_4=0;
     70            //P2INP |=0x20;//P0¶Ë¿ÚÈ«²¿Òý½ÅÏÂÀ­
     71           // P0INP=0xff;//P0¶Ë¿ÚÈ«²¿Òý½ÅÈýÌ¬
     72            //**  PERCFG &=0xbf;//¶¨Ê±Æ÷1±¸ÓÃÎ»ÖÃ1
     73            PERCFG =0xbe;//¶¨Ê±Æ÷1±¸ÓÃÎ»ÖÃ1,UART0±¸ÓÃÎ»ÖÃ1
   \   000006   75F1BE       MOV     0xf1,#-0x42
     74            //P2DIR |=0xc0;//¶¨Ê±Æ÷1Í¨µÀ2ÓÅÏÈ  *****
     75            P2DIR &= ~0xC0;          //P0ÓÅÏÈ×÷ÎªUART0  ****
   \   000009   53FF3F       ANL     0xff,#0x3f
     76          }
   \   00000C   02....       LJMP    ?BRET
   \   00000F                REQUIRE P0SEL
   \   00000F                REQUIRE P0DIR
   \   00000F                REQUIRE PERCFG
   \   00000F                REQUIRE P2DIR
     77          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     78          void T1_init3()//ÅäÖÃ¶¨Ê±Æ÷1ÎªËùÓÐÑØ´¥·¢
   \                     T1_init3:
     79          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     80          //  T1CTL=0x0d;
     81            T1CCTL2 = 0x43;//¿ªÖÐ¶Ï£¬²¢ÉèÖÃËùÓÐÑØ²¶»ñ
   \   000000   75E743       MOV     0xe7,#0x43
     82            //T1CCTL2 = 0x41;//¿ªÖÐ¶Ï£¬²¢ÉèÖÃÉÏÉý²¶»ñ
     83           // PICTL &=0xfe;//P0_0-P0_7ÉÏÉýÑØ´¥·¢
     84           // PICTL=0xfe;//P0_0-P0_7ÉÏÉýÑØ´¥·¢
     85           // PICTL |=0x01;//P0_0-P0_7ÏÂ½µÑØ´¥·¢
     86            IRCON=0;//Çå³ýÖÐ¶Ï±êÖ¾
   \   000003   75C000       MOV     0xc0,#0x0
     87            P0IFG =0x00;//Çå³ýÖÐ¶Ï±êÖ¾
   \   000006   758900       MOV     0x89,#0x0
     88          
     89            T1IE=1;//Ê¹ÄÜ¶¨Ê±Æ÷1ÖÐ¶Ï  
   \   000009   D2B9         SETB    0xb8.1
     90            EA=1;
   \   00000B   80..         SJMP    ?Subroutine1
   \   00000D                REQUIRE T1CCTL2
   \   00000D                REQUIRE _A_IRCON
   \   00000D                REQUIRE P0IFG
   \   00000D                REQUIRE _A_IEN1
   \   00000D                REQUIRE _A_IEN0
     91          }
     92          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     93          void T1_Capture_r_f_init()
   \                     T1_Capture_r_f_init:
     94          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     95            Init_capture_Gpio();
   \   000004                ; Setup parameters for call to function Init_capture_Gpio
   \   000004   12....       LCALL   ??Init_capture_Gpio?relay
     96            T1_init3();
   \   000007                ; Setup parameters for call to function T1_init3
   \   000007   12....       LCALL   ??T1_init3?relay
     97          }
   \   00000A                REQUIRE ?Subroutine0
   \   00000A                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
     98          
     99          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    100          void PM2_5Init()
   \                     PM2_5Init:
    101          { 
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    102           // InitClock(); //Ê±ÖÓÖ÷ÆµÂÊÉèÖÃÎª32M
    103            //InitUART();//³õÊ¼»¯´®¿Ú£¬ÓÃÒÔ·¢ËÍÊý¾Ý
    104            CLKCONCMD |= (1<<3);          // OKC£º¶¨Ê±Æ÷1ÆµÂÊÎª16MHZ
   \   000004   43C608       ORL     0xc6,#0x8
    105            CLKCONCMD &= ~(3<<4);
   \   000007   53C6CF       ANL     0xc6,#0xcf
    106            T1_Capture_r_f_init();//ËùÓÐÑØ´¥·¢
   \   00000A                ; Setup parameters for call to function Init_capture_Gpio
   \   00000A   12....       LCALL   ??Init_capture_Gpio?relay
   \   00000D                ; Setup parameters for call to function T1_init3
   \   00000D   12....       LCALL   ??T1_init3?relay
    107            IP1 |= (1<<1);              // ÉèÖÃ¶¨Ê±Æ÷1ÎªµÚ¶þ¸ßÖÐ¶ÏÓÅÏÈ¼¶
   \   000010   43B902       ORL     0xb9,#0x2
    108            IP0 |= (1<<1);
   \   000013   43A902       ORL     0xa9,#0x2
    109            IP1 |= (1<<3);              // ÉèÖÃ¶¨Ê±Æ÷3ÎªµÚÒ»¸ßÖÐ¶ÏÓÅÏÈ¼¶
   \   000016   43B908       ORL     0xb9,#0x8
    110            IP0 |= (1<<3);
   \   000019   43A908       ORL     0xa9,#0x8
    111            //while(1);
    112          }
   \   00001C   80..         SJMP    ?Subroutine0
   \   00001E                REQUIRE CLKCONCMD
   \   00001E                REQUIRE IP1
   \   00001E                REQUIRE IP0
    113          
    114          
    115          
    116          #pragma vector = T1_VECTOR 

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
    117          __interrupt void T1_ISR(void)
   \                     T1_ISR:
    118          {
   \   000000   C0E0         PUSH    A
   \   000002   74EB         MOV     A,#-0x15
   \   000004   12....       LCALL   ?INTERRUPT_ENTER_XSP
   \   000007                ; Saved register size: 21
   \   000007                ; Auto size: 0
    119            EA=0;
   \   000007   C2AF         CLR     0xa8.7
    120            T1IF=0;
   \   000009   C2C1         CLR     0xc0.1
    121            if(T1STAT & (1<<2))//Í¨µÀ2ÖÐ¶Ï±êÖ¾
   \   00000B   E5AF         MOV     A,0xaf
   \   00000D   A2E2         MOV     C,0xE0 /* A   */.2
   \   00000F   4003         JC      $+5
   \   000011   02....       LJMP    ??T1_ISR_0
    122            {
    123              if(P0_4==1)
   \   000014   A284         MOV     C,0x80.4
   \   000016   5015         JNC     ??T1_ISR_1
    124              {
    125                //EA=0;
    126               //** LED1=0;
    127              //  T1IF=0;
    128                T1STAT=0;
   \   000018   75AF00       MOV     0xaf,#0x0
    129                P0IFG =0x00;//Çå³ýÖÐ¶Ï±êÖ¾
   \   00001B   758900       MOV     0x89,#0x0
    130               // EA=1;
    131               // InitUART();
    132              //**  UartSendString(start,5);
    133                count=0;
   \   00001E   90....       MOV     DPTR,#__Constant_0
   \   000021   12....       LCALL   ?XLOAD_R2345
   \   000024   90....       MOV     DPTR,#count
   \   000027   12....       LCALL   ?XSTORE_R2345
    134                T3init();//Æô¶¯¶¨Ê±Æ÷3¼ÆÊ±
   \   00002A                ; Setup parameters for call to function T3init
   \   00002A   12....       LCALL   ??T3init?relay
    135              //  T4_int();
    136               //*** T1_Capture_fall_init();
    137              }
    138              if(P0_4==0)
   \                     ??T1_ISR_1:
   \   00002D   A284         MOV     C,0x80.4
   \   00002F   5003         JNC     $+5
   \   000031   02....       LJMP    ??T1_ISR_0
    139              {
    140                
    141              //  EA=0;
    142              //  LED1=1;
    143              //  T1IF=0;
    144                T1STAT=0;
   \   000034   75AF00       MOV     0xaf,#0x0
    145                P0IFG =0x00;//Çå³ýÖÐ¶Ï±êÖ¾
   \   000037   758900       MOV     0x89,#0x0
    146               // memset(PM_data, 0, 6);
    147                count = count*2.048;
    148                count=(count-2)/2;//µÃµ½PM2.5µÄÖµ  ´ÖÂÔÄâºÏ
   \   00003A   90....       MOV     DPTR,#count
   \   00003D   78..         MOV     R0,#?V0 + 0
   \   00003F   12....       LCALL   ?L_MOV_X
   \   000042   90....       MOV     DPTR,#__Constant_4003126f
   \   000045   78..         MOV     R0,#?V0 + 4
   \   000047   12....       LCALL   ?L_MOV_X
   \   00004A   78..         MOV     R0,#?V0 + 0
   \   00004C   79..         MOV     R1,#?V0 + 4
   \   00004E   12....       LCALL   ?FLT_MUL
   \   000051   90....       MOV     DPTR,#__Constant_c0000000
   \   000054   78..         MOV     R0,#?V0 + 4
   \   000056   12....       LCALL   ?L_MOV_X
   \   000059   78..         MOV     R0,#?V0 + 0
   \   00005B   79..         MOV     R1,#?V0 + 4
   \   00005D   12....       LCALL   ?FLT_ADD
   \   000060   90....       MOV     DPTR,#__Constant_3f000000
   \   000063   78..         MOV     R0,#?V0 + 4
   \   000065   12....       LCALL   ?L_MOV_X
   \   000068   78..         MOV     R0,#?V0 + 0
   \   00006A   79..         MOV     R1,#?V0 + 4
   \   00006C   12....       LCALL   ?FLT_MUL
   \   00006F   90....       MOV     DPTR,#count
   \   000072   78..         MOV     R0,#?V0 + 0
   \   000074   12....       LCALL   ?L_MOV_TO_X
    149               // count=0-0.0003*count*count+1.331*count-13.19;//ÄâºÏº¯Êý
    150                countsum = count + countsum;
   \   000077   90....       MOV     DPTR,#count
   \   00007A   78..         MOV     R0,#?V0 + 0
   \   00007C   12....       LCALL   ?L_MOV_X
   \   00007F   90....       MOV     DPTR,#countsum
   \   000082   78..         MOV     R0,#?V0 + 4
   \   000084   12....       LCALL   ?L_MOV_X
   \   000087   78..         MOV     R0,#?V0 + 0
   \   000089   79..         MOV     R1,#?V0 + 4
   \   00008B   12....       LCALL   ?FLT_ADD
   \   00008E   90....       MOV     DPTR,#countsum
   \   000091   78..         MOV     R0,#?V0 + 0
   \   000093   12....       LCALL   ?L_MOV_TO_X
    151                i++;
   \   000096   90....       MOV     DPTR,#i
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   04           INC     A
   \   00009B   F0           MOVX    @DPTR,A
    152                if(i==5)
   \   00009C   6405         XRL     A,#0x5
   \   00009E   7075         JNZ     ??T1_ISR_2
    153                {
    154                  i=0;
   \   0000A0   E4           CLR     A
   \   0000A1   F0           MOVX    @DPTR,A
    155                  count_aver=countsum/5;
   \   0000A2   90....       MOV     DPTR,#countsum
   \   0000A5   78..         MOV     R0,#?V0 + 0
   \   0000A7   12....       LCALL   ?L_MOV_X
   \   0000AA   90....       MOV     DPTR,#__Constant_40a00000
   \   0000AD   78..         MOV     R0,#?V0 + 4
   \   0000AF   12....       LCALL   ?L_MOV_X
   \   0000B2   78..         MOV     R0,#?V0 + 0
   \   0000B4   79..         MOV     R1,#?V0 + 4
   \   0000B6   12....       LCALL   ?FLT_DIV
   \   0000B9   90....       MOV     DPTR,#count_aver
   \   0000BC   78..         MOV     R0,#?V0 + 0
   \   0000BE   12....       LCALL   ?L_MOV_TO_X
    156                  sprintf(PM_data,"%.2f", count_aver);//½«¸¡µãÊý×ª³É×Ö·û´®
                                 ^
Warning[Pe167]: argument of type "uint8 *" is incompatible with parameter of
          type "char *"
   \   0000C1                ; Setup parameters for call to function sprintf
   \   0000C1   90....       MOV     DPTR,#count_aver
   \   0000C4   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0000C7   7C..         MOV     R4,#`?<Constant "%.2f">` & 0xff
   \   0000C9   7D..         MOV     R5,#(`?<Constant "%.2f">` >> 8) & 0xff
   \   0000CB   7A..         MOV     R2,#PM_data & 0xff
   \   0000CD   7B..         MOV     R3,#(PM_data >> 8) & 0xff
   \   0000CF   12....       LCALL   ??sprintf?relay
   \   0000D2   7404         MOV     A,#0x4
   \   0000D4   12....       LCALL   ?DEALLOC_XSTACK8
    157                  pm_data=(int)count_aver*100;
   \   0000D7   90....       MOV     DPTR,#count_aver
   \   0000DA   12....       LCALL   ?XLOAD_R2345
   \   0000DD   12....       LCALL   ?R2345_FLT_TO_L
   \   0000E0   E5..         MOV     A,?V0 + 0
   \   0000E2   75F064       MOV     B,#0x64
   \   0000E5   A4           MUL     AB
   \   0000E6   F5..         MOV     ?V0 + 0,A
   \   0000E8   A8F0         MOV     R0,B
   \   0000EA   75F064       MOV     B,#0x64
   \   0000ED   E5..         MOV     A,?V0 + 1
   \   0000EF   A4           MUL     AB
   \   0000F0   28           ADD     A,R0
   \   0000F1   F5..         MOV     ?V0 + 1,A
   \   0000F3   90....       MOV     DPTR,#pm_data
   \   0000F6   E5..         MOV     A,?V0 + 0
   \   0000F8   F0           MOVX    @DPTR,A
   \   0000F9   A3           INC     DPTR
   \   0000FA   E5..         MOV     A,?V0 + 1
   \   0000FC   F0           MOVX    @DPTR,A
    158                 //** SampleApp_Send_P2P_Message();
    159                  countsum=0;
   \   0000FD   90....       MOV     DPTR,#__Constant_0
   \   000100   12....       LCALL   ?XLOAD_R2345
   \   000103   90....       MOV     DPTR,#countsum
   \   000106   12....       LCALL   ?XSTORE_R2345
    160                  count_aver=0;
   \   000109   90....       MOV     DPTR,#__Constant_0
   \   00010C   12....       LCALL   ?XLOAD_R2345
   \   00010F   90....       MOV     DPTR,#count_aver
   \   000112   12....       LCALL   ?XSTORE_R2345
    161                }
    162                T3CTL |=0x04;//Çå³ý¶¨Ê±Æ÷3µÄ¼ÆÊýÆ÷
   \                     ??T1_ISR_2:
   \   000115   43CB04       ORL     0xcb,#0x4
    163                count=0;
   \   000118   90....       MOV     DPTR,#__Constant_0
   \   00011B   12....       LCALL   ?XLOAD_R2345
   \   00011E   90....       MOV     DPTR,#count
   \   000121   12....       LCALL   ?XSTORE_R2345
    164              }
    165            }
    166            EA=1;
   \                     ??T1_ISR_0:
   \   000124   D2AF         SETB    0xa8.7
    167            T1STAT &= ~0x3f;             // Çå¿Õ¶¨Ê±Æ÷ÖÐ¶Ï×´Ì¬Î»
   \   000126   53AFC0       ANL     0xaf,#0xc0
    168          }
   \   000129                REQUIRE ?Subroutine2
   \   000129                REQUIRE _A_IEN0
   \   000129                REQUIRE _A_IRCON
   \   000129                REQUIRE T1STAT
   \   000129                REQUIRE _A_P0
   \   000129                REQUIRE P0IFG
   \   000129                REQUIRE T3CTL
   \   000129                ; // Fall through to label ?Subroutine2

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F08         MOV     R7,#0x8
   \   000002   02....       LJMP    ?INTERRUPT_LEAVE_XSP
    169          
    170          
    171          //¶¨Ê±Æ÷T3ÖÐ¶Ï´¦Àíº¯Êý
    172          #pragma vector = T3_VECTOR 

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
    173          __interrupt void T3_ISR(void) 
   \                     T3_ISR:
    174          { 
   \   000000   C0E0         PUSH    A
   \   000002   74EB         MOV     A,#-0x15
   \   000004   12....       LCALL   ?INTERRUPT_ENTER_XSP
   \   000007                ; Saved register size: 21
   \   000007                ; Auto size: 0
    175              T3IF = 0;            //ÇåÖÐ¶Ï±êÖ¾, Ò²¿ÉÓÉÓ²¼þ×Ô¶¯Íê³É 
   \   000007   C2C3         CLR     0xc0.3
    176              count++;
   \   000009   90....       MOV     DPTR,#count
   \   00000C   78..         MOV     R0,#?V0 + 0
   \   00000E   12....       LCALL   ?L_MOV_X
   \   000011   90....       MOV     DPTR,#__Constant_3f800000
   \   000014   78..         MOV     R0,#?V0 + 4
   \   000016   12....       LCALL   ?L_MOV_X
   \   000019   78..         MOV     R0,#?V0 + 0
   \   00001B   79..         MOV     R1,#?V0 + 4
   \   00001D   12....       LCALL   ?FLT_ADD
   \   000020   90....       MOV     DPTR,#count
   \   000023   78..         MOV     R0,#?V0 + 0
   \   000025   12....       LCALL   ?L_MOV_TO_X
    177          }
   \   000028   80..         SJMP    ?Subroutine2
   \   00002A                REQUIRE _A_IRCON

   \                                 In  segment INTVEC, offset 0x4b, root
   \                     `??T1_ISR??INTVEC 75`:
   \   00004B   02....       LJMP       (T1_ISR)

   \                                 In  segment INTVEC, offset 0x5b, root
   \                     `??T3_ISR??INTVEC 91`:
   \   00005B   02....       LJMP       (T3_ISR)

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??T3init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    T3init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??InitClock?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    InitClock

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??InitUART?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    InitUART

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Init_capture_Gpio?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Init_capture_Gpio

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??T1_init3?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    T1_init3

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??T1_Capture_r_f_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    T1_Capture_r_f_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??PM2_5Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    PM2_5Init

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%.2f">`:
   \   000000   252E3266     DB "%.2f"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_4003126f:
   \   000000   6F120340     DD 4003126FH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_c0000000:
   \   000000   000000C0     DD 0C0000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f000000:
   \   000000   0000003F     DD 3F000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_40a00000:
   \   000000   0000A040     DD 40A00000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f800000:
   \   000000   0000803F     DD 3F800000H

   Maximum stack usage in bytes:

     Function               ISTACK PSTACK XSTACK
     --------               ------ ------ ------
     InitClock                  0      0      0
     InitUART                   0      0      0
     Init_capture_Gpio          0      0      0
     PM2_5Init                  2      0      0
       -> Init_capture_Gpio     4      0      0
       -> T1_init3              4      0      0
     T1_Capture_r_f_init        2      0      0
       -> Init_capture_Gpio     4      0      0
       -> T1_init3              4      0      0
     T1_ISR                     0      0     25
       -> T3init                0      0     42
       -> sprintf               0      0     50
     T1_init3                   0      0      0
     T3_ISR                     0      0     21
     T3init                     0      0     21


   Segment part sizes:

     Function/Label              Bytes
     --------------              -----
     _A_P0                          1
     U0CSR                          1
     P0IFG                          1
     CLKCONSTA                      1
     _A_IEN0                        1
     IP0                            1
     T1STAT                         1
     _A_IEN1                        1
     IP1                            1
     _A_IRCON                       1
     U0BAUD                         1
     U0GCR                          1
     CLKCONCMD                      1
     T3CTL                          1
     T1CCTL2                        1
     _A_IRCON2                      1
     PERCFG                         1
     P0SEL                          1
     P0DIR                          1
     P2DIR                          1
     PM_data                        6
     i                              1
     count                          4
     countsum                       4
     count_aver                     4
     pm_data                        2
     T3init                        14
     ?Subroutine1                   5
     InitClock                     15
     InitUART                      29
     Init_capture_Gpio             15
     T1_init3                      13
     T1_Capture_r_f_init           10
     ?Subroutine0                   7
     PM2_5Init                     30
     T1_ISR                       297
     ?Subroutine2                   5
     T3_ISR                        42
     ??T1_ISR??INTVEC 75            3
     ??T3_ISR??INTVEC 91            3
     ??T3init?relay                 6
     ??InitClock?relay              6
     ??InitUART?relay               6
     ??Init_capture_Gpio?relay      6
     ??T1_init3?relay               6
     ??T1_Capture_r_f_init?relay    6
     ??PM2_5Init?relay              6
     ?<Constant "%.2f">             5
     __Constant_0                   4
     __Constant_4003126f            4
     __Constant_c0000000            4
     __Constant_3f000000            4
     __Constant_40a00000            4
     __Constant_3f800000            4

 
 138 bytes in segment BANKED_CODE
  42 bytes in segment BANK_RELAYS
   6 bytes in segment INTVEC
 344 bytes in segment NEAR_CODE
  20 bytes in segment SFR_AN
  29 bytes in segment XDATA_ROM_C
  21 bytes in segment XDATA_Z
 
 524 bytes of CODE  memory (+  6 bytes shared)
   5 bytes of CONST memory (+ 24 bytes shared)
   0 bytes of DATA  memory (+ 20 bytes shared)
  21 bytes of XDATA memory

Errors: none
Warnings: 1
